Get Trade History

Endpoint
GET https://api.dhan.co/v2/trades/{from-date}/{to-date}/{page-number}

Description
This API allows the user to retrieve trade history. Often during partial trades or Bracket/Cover Orders, traders get confused in reading trades from tradebook. The response of the API will include all the trades generated for a particular order id.

Request

Path Parameters
from-date         string        required       Date format: yyyy-MM-dd
to-date           string        required       Date format: yyyy-MM-dd
page-number       string        required       Default value: 0

Headers
access-token      string        required       Authentication token

Response

Status Code: 200 (Successful operation)

Response Body
Array of trade objects with the following properties:

dhanClientId                  string        User specific identification generated by Dhan
orderId                       string        Order specific identification generated by Dhan
exchangeOrderId               string        Order specific identification generated by Exchange
exchangeTradeId               string        Trade specific identification, generated by exchange once order is executed
transactionType               string        Signifies the type of transaction whether it's BUY or SELL
                                            Allowed values: BUY, SELL
exchangeSegment               string        Exchange and segment information
                                            Allowed values: NSE_EQ, NSE_FNO, BSE_EQ, BSE_FNO, MCX_COMM
productType                   string        Type of product
                                            Allowed values: CNC, INTRADAY, MARGIN, MTF, CO, BO
orderType                     string        Type of order
                                            Allowed values: LIMIT, MARKET, STOP_LOSS, STOP_LOSS_MARKET
customSymbol                  string        Custom trading symbol
securityId                    string        Exchange standard identification for each scrip
tradedQuantity                integer       Number of shares traded
tradedPrice                   float         Price at which trade executed
isin                          string        Isin Number of that scrip
instrument                    string        Instrument of that scrip
sebiTax                       double        SEBI tax
stt                           double        STT (Securities Transaction Tax)
brokerageCharges              double        Brokerage Charges
serviceTax                    double        Service tax
exchangeTransactionCharges    double        Exchange Transaction Charges
stampDuty                     double        Stamp duty paid on transfer of shares
createTime                    string        Record create date time
updateTime                    string        Record update date time
exchangeTime                  string        Time at which order reached at exchange end
drvExpiryDate                 string        For F&O, expiry date of contract
drvOptionType                 string        For Options, type CALL or PUT
                                            Allowed values: CALL, PUT, NA
drvStrikePrice                float         For Options, Strike Price

Exchange Segment Details
NSE_EQ                        NSE           Equity Cash
NSE_FNO                       NSE           Futures & Options
BSE_EQ                        BSE           Equity Cash
BSE_FNO                       BSE           Futures & Options
MCX_COMM                      MCX           Commodity

Product Type Details
CNC                           Cash & Carry for equity deliveries
INTRADAY                      Intraday for Equity, Futures & Options
MARGIN                        Carry Forward in Futures & Options
CO                            Cover Order; entry and stop loss
BO                            Bracket Order; entry, stop loss & target price
MTF                           Margin Traded Fund

Note: CO & BO product types will be valid only for Intraday

Order Type Details
LIMIT                         For Limit Order types
MARKET                        For Market Order types
STOP_LOSS                     For Stop Loss Limit orders
STOP_LOSS_MARKET              For Stop Loss Market orders

Examples

cURL Example
curl --request GET \
  --url https://api.dhan.co/v2/trades/2023-03-01/2023-03-15/0 \
  --header 'Accept: application/json' \
  --header 'access-token: YOUR_ACCESS_TOKEN'

Go Example
package main

import (
	"fmt"
	"net/http"
	"io"
)

func main() {
	url := "https://api.dhan.co/v2/trades/2023-03-01/2023-03-15/0"
	req, _ := http.NewRequest("GET", url, nil)
	req.Header.Add("access-token", "YOUR_ACCESS_TOKEN")
	req.Header.Add("Accept", "application/json")
	res, _ := http.DefaultClient.Do(req)
	defer res.Body.Close()
	body, _ := io.ReadAll(res.Body)
	fmt.Println(res)
	fmt.Println(string(body))
}

Example Response
[
  {
    "dhanClientId": "string",
    "orderId": "string",
    "exchangeOrderId": "string",
    "exchangeTradeId": "string",
    "transactionType": "BUY",
    "exchangeSegment": "NSE_EQ",
    "productType": "CNC",
    "orderType": "LIMIT",
    "customSymbol": "string",
    "securityId": "string",
    "tradedQuantity": 10,
    "tradedPrice": 100.50,
    "isin": "INE123A01016",
    "instrument": "EQ",
    "sebiTax": 0.01,
    "stt": 0.1,
    "brokerageCharges": 15.75,
    "serviceTax": 2.84,
    "exchangeTransactionCharges": 3.25,
    "stampDuty": 0.05,
    "createTime": "2023-03-14T10:30:45Z",
    "updateTime": "2023-03-14T10:30:45Z",
    "exchangeTime": "2023-03-14T10:30:40Z",
    "drvExpiryDate": "2023-03-30",
    "drvOptionType": "CALL",
    "drvStrikePrice": 105.00
  }
]